<main class="container my-4">
    <div class="row g-4">
        <!-- Próximas Contas a Pagar -->
        <div class="col-lg-8">
            <div class="card shadow bg-body-tertiary h-100">
                <div class="card-body d-flex flex-column">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="card-title mb-0">Próximas Contas a Pagar</h4>
                        <a routerLink="/transactions/create" class="btn btn-success">
                            <i class="fas fa-plus me-2" aria-hidden="true"></i> Transação
                        </a>
                    </div>
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 flex-grow-1">
                        <div *ngFor="let transaction of upcomingTransactions; trackBy: trackByTransactionId"
                             class="col">
                            <div class="card h-100">
                                <img src="assets/paybills.webp"
                                     class="card-img-top"
                                     alt="Ilustração de contas a pagar" />
                                <div class="card-body d-flex flex-column">
                                    <h5 class="card-title">{{ transaction.description }}</h5>
                                    <p class="card-text mb-4">
                                        Valor: {{ transaction.amount | currency:'BRL' }}<br />
                                        Vencimento: {{ transaction.date | date:'shortDate' }}
                                    </p>
                                    <a href="#"
                                       class="btn btn-primary mt-auto">
                                        Pagar
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="upcomingTransactions.length === 0" class="col">
                            Não há próximos pagamentos.
                            </div>
                        </div>
                        <div class="mt-4">
                            <app-crypto-news></app-crypto-news>
                        </div>
                    </div>
            </div>
        </div>

        <!-- Próximas Tarefas -->
        <div class="col-lg-4">
            <div class="card shadow bg-body-tertiary h-100">
                <div class="card-body d-flex flex-column">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="card-title mb-0">Próximas Tarefas</h4>
                        <a routerLink="/tasks/create" class="btn btn-sm btn-primary">
                            <i class="fas fa-plus" aria-hidden="true"></i>
                        </a>
                    </div>
                    <ul class="list-group list-group-flush flex-grow-1">
                        <li *ngFor="let task of upcomingTasks; trackBy: trackByTaskId"
                            class="list-group-item">
                            <a [routerLink]="['/tasks/edit', task.taskId]"
                               class="text-decoration-none d-block">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h5 class="mb-1">{{ task.title }}</h5>
                                    <small class="text-muted">
                                        {{ task.dueDate | date:'shortDate' }}
                                    </small>
                                </div>
                                <p class="mb-1">{{ task.description }}</p>
                                <small class="text-muted">Prioridade: {{ task.priority }}</small>
                            </a>
                        </li>
                        <li *ngIf="upcomingTasks.length === 0" class="list-group-item">
                            Nenhuma tarefa pendente.
                        </li>
                    </ul>
                    <div class="mt-4">
                        <app-youtube-videos></app-youtube-videos>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
